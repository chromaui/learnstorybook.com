---
title: 'ì»´í¬ë„ŒíŠ¸ ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸í•˜ê¸°'
tocTitle: 'ìƒí˜¸ì‘ìš©'
description: 'ì‚¬ìš©ìì˜ ë™ì‘ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ê³  ê¸°ëŠ¥ë³„ ê²€ì‚¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ë°©ë²• ì•Œì•„ë³´ê¸°'
commit: ''
---

ìŠ¤ìœ„ì¹˜ë¥¼ ëˆŒëŸ¬ë„, ì „ë“±ì´ ì¼œì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. ì „êµ¬ê°€ íƒ€ë²„ë¦° ê²ƒì¼ ìˆ˜ë„, í˜¹ì€ ë°°ì„  ê²°í•¨ì´ì—ˆì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ìŠ¤ìœ„ì¹˜ì™€ ì „êµ¬ëŠ” ë²½ ì•ˆìª½ì˜ ì„ ë“¤ë¡œ ì„œë¡œ ì—°ê²°ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ì•±ë„ ë§ˆì°¬ê°€ì§€ì…ë‹ˆë‹¤. í‘œë©´ìƒìœ¼ë¡œ ì‚¬ìš©ìë“¤ì´ ë³´ê³  ìƒí˜¸ì‘ìš©í•˜ëŠ” ê²ƒì€ UIì…ë‹ˆë‹¤. ê·¸ ì•ˆì„ ë“¤ì—¬ë‹¤ ë³´ë©´, UIëŠ” ì •ë³´ì™€ ì´ë²¤íŠ¸(event)ì˜ íë¦„ì´ ì˜ ë™ì‘í•˜ë„ë¡ ì—°ê²°ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

í˜ì´ì§€ì²˜ëŸ¼ ë” ë³µì¡í•œ UIë¥¼ ë§Œë“¤ìˆ˜ë¡ ì»´í¬ë„ŒíŠ¸ë“¤ì€ UI ë Œë”ë§ ê·¸ ì´ìƒì˜ ì—­í• ì„ í•˜ê²Œ ë©ë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ë“¤ì€ ì •ë³´ë¥¼ ì¡°í•©í•˜ê³  ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤. ì´ ì¥ì—ì„œëŠ” ì»´í“¨í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ìƒí˜¸ ì‘ìš©ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ê³  í™•ì¸í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.

![](/ui-testing-handbook/1_bfTfHf-9RSQ_s3FhnRBaeQ.png)

## ê·¸ ì»´í¬ë„ŒíŠ¸ê°€ ì§„ì§œë¡œ ì‘ë™í•˜ë‚˜ìš”?

ì»´í¬ë„ŒíŠ¸ì˜ ì£¼ìš” ì„ë¬´ëŠ” propsë¥¼ ë°›ì•„ì„œ í•œ ì¡°ê°ì˜ UIìœ¼ë¡œ ë Œë”ë§í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë” ë³µì¡í•œ ì»´í¬ë„ŒíŠ¸ë“¤ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœë¥¼ ì¶”ì í•˜ê¸°ë„ í•˜ë©° ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë™ì‘ë“¤ì„ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ ì•„ë˜ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ì»´í¬ë„ŒíŠ¸ëŠ” ì´ˆê¸° ìƒíƒœë¥¼ ê°€ì§€ê³  ì‹œì‘í•©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì…ë ¥ì°½ì— ë¬´ì–¸ê°€ë¥¼ íƒ€ì´í•‘í•˜ê±°ë‚˜ ë²„íŠ¼ì„ í´ë¦­í•  ë•Œ, ì´ëŸ° ë™ì‘ë“¤ì€ ì•± ì•ˆì˜ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤. ê·¸ëŸ¼ ì´ ì»´í¬ë„ŒíŠ¸ëŠ” ì´ ì´ë²¤íŠ¸ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ìƒíƒœ ë³€í™”ë“¤ì€ ë Œë”ë§ëœ UIë¥¼ ì—…ë°ì´íŠ¸í•˜ê³ , ì´ê²ƒì´ ë°”ë¡œ ìƒí˜¸ì‘ìš©ì„ í•˜ëŠ” í•˜ë‚˜ì˜ ì£¼ê¸°ì…ë‹ˆë‹¤.

`InboxScreen`ì—ì„œ, ì‚¬ìš©ìëŠ” ì¼ì •ì„ ê³ ì •ì‹œí‚¤ê¸° ìœ„í•´ ë³„ ì•„ì´ì½˜ì„ í´ë¦­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í˜¹ì€ checkboxë¥¼ í´ë¦­í•´ ì—…ë¬´ë¥¼ ë³´ê´€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹œê°ì  ìš”ì†Œ í…ŒìŠ¤íŠ¸ë“¤ì€ ì»´í¬ë„ŒíŠ¸ê°€ ì´ëŸ¬í•œ ëª¨ë“  ìƒíƒœ ì•ˆì—ì„œ ì˜¬ë°”ë¥´ê²Œ ë³´ì´ëŠ”ì§€ ë³´ì¥í•©ë‹ˆë‹¤. ë˜í•œ ìš°ë¦¬ëŠ” UIê°€ ì´ì™€ ê°™ì€ ìƒí˜¸ ì‘ìš©ì— ì •í™•íˆ ì‘ë‹µí•˜ëŠ”ì§€ ë³´ì¥í•´ì•¼í•©ë‹ˆë‹¤.

![](/ui-testing-handbook/interactive-taskbox.gif)

ìƒí˜¸ ì‘ìš© í…ŒìŠ¤íŠ¸ ì‘ì—… íë¦„(workflow)ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. - 

1.  **ğŸ“ ì„¤ì •:** ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ê³  ì´ˆê¸° ìƒíƒœë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ì ì ˆí•œ propsë¥¼ ì œê³µí•˜ê¸°.
2.  **ğŸ¤– ì‹¤í–‰:** ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ê³  ìƒí˜¸ì‘ìš©ì„ ì‹œë®¬ë ˆì´ì…˜ í•˜ê¸°.
3.  âœ… **assertionsì„ ì‹¤í–‰**í•´ì„œ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœê°€ ì˜¬ë°”ë¥´ê²Œ ì—…ë°ì´íŠ¸ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸°.

Taskbox ì•±ì€ [Jest](https://jestjs.io/)ì™€ í•¨ê»˜ ì‚¬ì „ êµ¬ì„±ëœ Create React Appì„ ì‚¬ìš©í•´ ë¶€íŠ¸ìŠ¤íŠ¸ë© ë˜ì—ˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ ìš°ë¦¬ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì“°ê³  ì‹¤í–‰í•˜ëŠ”ë° ì´ ì•±ì„ ì‚¬ìš©í•˜ê³ ì í•©ë‹ˆë‹¤.

### ì»´í¬ë„ŒíŠ¸ê°€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ê°€ ì•„ë‹Œ ë¬´ì—‡ì„ í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸ í•´ë³´ì„¸ìš”.

![](/ui-testing-handbook/1_AyDgC9kxOjUl8Yihq0ltTQ.gif)

ìœ ë‹› í…ŒìŠ¤íŠ¸ì™€ ë§ˆì°¬ê°€ì§€ë¡œ, ì»´í¬ë„ŒíŠ¸ì˜ ë‚´ë¶€ ì‘ë™ í…ŒìŠ¤íŠ¸ë„ í”¼í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤. ë‚´ë¶€ ì‘ë™ í…ŒìŠ¤íŠ¸ëŠ” ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§ í•  ë•Œë§ˆë‹¤ ê²°ê³¼ê°’ì˜ ë³€í™” ì—¬ë¶€ì— ê´€ê³„ì—†ì´ í…ŒìŠ¤íŠ¸ë¥¼ ì¤‘ë‹¨ì‹œí‚¤ë¯€ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ë¶ˆì•ˆì •í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤. ê·¸ë˜ì„œ ì†ë„ê°€ ëŠë ¤ì§‘ë‹ˆë‹¤.

 ê·¸ê²ƒì´ ë°”ë¡œ Adobe, Twilio, Gatsby ê·¸ë¦¬ê³  ë” ë§ì€ íšŒì‚¬ì˜ íŒ€ë“¤ì´ [Testing-Library](https://testing-library.com/)ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ì…ë‹ˆë‹¤. Testing-LibraryëŠ” ë Œë”ë§ëœ ê²°ê³¼ë¬¼ì„ í‰ê°€í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. ì´ëŠ” ê°€ìƒ ë¸Œë¼ìš°ì €(JSDOM)ì— êµ¬ì„± ìš”ì†Œë¥¼ ë§ˆìš´íŠ¸í•˜ì—¬ ì‘ë™í•˜ë©° ì‚¬ìš©ì ìƒí˜¸ì‘ìš©ì„ ë³µì œí•˜ëŠ” ìœ í‹¸ë¦¬í‹°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

ì»´í¬ë„ŒíŠ¸ì˜ ë‚´ë¶€ ìƒíƒœì™€ ë©”ì†Œë“œë“¤ì— ì ‘ê·¼í•˜ëŠ” ëŒ€ì‹ , ì‹¤ì œ ì‚¬ìš©ë²•ì„ ëª¨ë°©í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”ë¶ˆì–´ ì‚¬ìš©ìì˜ ê´€ì ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì€ ìš°ë¦¬ì˜ ì½”ë“œê°€ ë™ì‘í•œë‹¤ëŠ” ì‚¬ì‹¤ì— ë” ìì‹ ê°ì„ ê°–ê²Œ í•©ë‹ˆë‹¤.

## ìŠ¤í† ë¦¬(story)ë¥¼ ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ ì¬ì‚¬ìš©í•´ë³´ì„¸ìš”

ì• ì¥ì—ì„œëŠ” `InboxScreen.stories.js` íŒŒì¼ì— `InboxScreen` ì»´í¬ë„ŒíŠ¸ì˜ ëª¨ë“  ì‚¬ìš©ì˜ˆë¥¼ ì¹´íƒˆë¡œê·¸ë¡œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê°œë°œ ì¤‘ ëª¨ìŠµì„ í™•ì¸í•˜ê³  ë¹„ì£¼ì–¼ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ íšŒê·€ë¥¼ í¬ì°©í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ ìŠ¤í† ë¦¬(story)ëŠ” ì´ì œ ìš°ë¦¬ì˜ ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸ì—ë„ í˜ì„ ì‹¤ì–´ì¤„ ê²ƒì…ë‹ˆë‹¤.

```javascript:title=src/InboxScreen.stories.js
import React from 'react';
import { rest } from 'msw';
import { InboxScreen } from './InboxScreen';
import { Default as TaskListDefault } from './components/TaskList.stories';

export default {
  component: InboxScreen,
  title: 'InboxScreen',
};

const Template = (args) => <InboxScreen {...args} />;

export const Default = Template.bind({});
Default.parameters = {
  msw: [
    rest.get('/tasks', (req, res, ctx) => {
      return res(ctx.json(TaskListDefault.args));
    }),
  ],
};

export const Error = Template.bind({});
Error.args = {
  error: 'Something',
};
Error.parameters = {
  msw: [
    rest.get('/tasks', (req, res, ctx) => {
      return res(ctx.json([]));
    }),
  ],
};
```
ìŠ¤í† ë¦¬ëŠ” í‘œì¤€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ëª¨ë“ˆì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©° ì´ë™ ê°€ëŠ¥í•œ í˜•ì‹ìœ¼ë¡œ ì‘ì„±ë©ë‹ˆë‹¤. ì–´ë–¤ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê¸°ë°˜ì˜ í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬(Jest, Testing Lib, Playwright)ì—ì„œë„ ìŠ¤í† ë¦¬ë¥¼ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì œí’ˆêµ°ì˜ ê° í…ŒìŠ¤íŠ¸ ë„êµ¬ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì„¤ì •í•˜ê³  ìœ ì§€ë³´ìˆ˜í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, Adobe Spectrum ë””ìì¸ ì„¤ê³„íŒ€ì€ ì´ëŸ¬í•œ íŒ¨í„´ì„ ì‚¬ìš©í•´ ë©”ë‰´ì™€ ëŒ€í™” ìƒì ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ [ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸](https://github.com/adobe/react-spectrum/blob/f6c06605243ad2033fce95f80ae3fecd4a38daeb/packages/%40react-spectrum/dialog/test/DialogContainer.test.js#L62)ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤. 

![](/ui-testing-handbook/portable-stories.jpg)

í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ ìŠ¤í† ë¦¬ë¥¼ ì‘ì„±í•  ë•Œ, ì–´ë–¤ í˜•íƒœì˜ assertionë„ ìŠ¤í† ë¦¬ì˜ ìµœìƒë‹¨ìœ¼ë¡œ ì˜¬ë ¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•œ ë²ˆ í•´ë³´ì„¸ìš”. `InboxScreen.test.js`íŒŒì¼ì„ ë§Œë“¤ê³  ì²« ë²ˆì§¸ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ë´…ì‹œë‹¤. ìœ„ì˜ ì˜ˆì™€ ê°™ì´ ìš°ë¦¬ëŠ” ì´ëŸ¬í•œ í…ŒìŠ¤íŠ¸ì— ìŠ¤í† ë¦¬ë¥¼ ê°€ì ¸ì™€ Testing-Libraryì— ìˆëŠ” `render` ê¸°ëŠ¥ì„ ì´ìš©í•˜ì—¬ ìŒ“ìŠµë‹ˆë‹¤. 

`it` ë¸”ë¡ì€ ìš°ë¦¬ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ë¨¼ì € ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ê³  ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦° í›„ íŠ¹ì • ì‘ì—…ì„ ì°¾ì•„ í•€ ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤. assertionì€ ê³ ì •ëœ ìƒíƒœê°€ ì—…ë°ì´íŠ¸ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ `afterEach` ë¸”ë¡ì´ í…ŒìŠ¤íŠ¸ ì¤‘ì— ë§ˆìš´íŠ¸ëœ ë¦¬ì•¡íŠ¸(React) íŠ¸ë¦¬ë“¤ì„ ë§ˆìš´íŠ¸ í•´ì œí•˜ì—¬ ì •ë¦¬í•©ë‹ˆë‹¤.

```javascript:title=src/InboxScreen.test.js
import React from 'react';
import '@testing-library/jest-dom/extend-expect';
import {
  render,
  waitFor,
  cleanup,
  within,
  fireEvent,
} from '@testing-library/react';
import * as stories from './InboxScreen.stories';

describe('InboxScreen', () => {
  afterEach(() => {
    cleanup();
  });

  const { Default } = stories;

  it('should pin a task', async () => {
    const { queryByText, getByRole } = render(<Default />);

    await waitFor(() => {
      expect(queryByText('You have no tasks')).not.toBeInTheDocument();
    });

    const getTask = () => getByRole('listitem', { name: 'Export logo' });

    const pinButton = within(getTask()).getByRole('button', { name: 'pin' });

    fireEvent.click(pinButton);

    const unpinButton = within(getTask()).getByRole('button', {
      name: 'unpin',
    });

    expect(unpinButton).toBeInTheDocument();
  });
});
```
`yarn test`ë¥¼ ì‹¤í–‰í•´ ì œìŠ¤íŠ¸(Jest)ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œ ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![](/ui-testing-handbook/yarn-test-fail.png)

`InboxScreen`ì€ ë°±ì—”ë“œì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. [ì´ì „ ì¥](../composition-testing)ì—ì„œëŠ”, ì´ëŸ¬í•œ API ìš”ì²­ì„ ëª¨ì˜(mock) í•˜ê¸° ìœ„í•´ [Storybook MSW addon](https://storybook.js.org/addons/msw-storybook-addon/)ë¥¼ ì„¤ì¹˜í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì œìŠ¤íŠ¸ì—ì„œëŠ” ì´ ë°©ì‹ì´ í†µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì´ ìš”ì²­ê³¼ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ ì˜ì¡´ì„±ì„ í•¨ê»˜ ê°€ì ¸ì˜¬ ë°©ë²•ì´ í•„ìš”í•©ë‹ˆë‹¤.

### ì´ë™í•  ì»´í¬ë„ŒíŠ¸ì˜ ì„¤ì •

ë³µì¡í•œ ì»´í¬ë„ŒíŠ¸ëŠ” theme providerë‚˜ contextì™€ ê°™ì€ ì™¸ë¶€ ì˜ì¡´ì„±ì— ê¸°ëŒ€ì–´ ì „ì—­ ë°ì´í„°ë¥¼ ê³µìœ í•©ë‹ˆë‹¤. ìŠ¤í† ë¦¬ë¶(Storybook)ì€ [ë°ì½”ë ˆì´í„°ë“¤(decorators)](https://storybook.js.org/docs/react/writing-stories/decorators)ì„ ì‚¬ìš©í•´ ìŠ¤í† ë¦¬ë¥¼ ê°ì‹¸ê³  ê·¸ëŸ¬í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ëª¨ë“  êµ¬ì„±ê³¼ í•¨ê»˜ ìŠ¤í† ë¦¬ë¥¼ ê°€ì ¸ì˜¤ë ¤ë©´ [@storybook/testing-react](https://github.com/storybookjs/testing-react) ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

ì´ ê³¼ì •ì€ ë³´í†µ ë‘ ë‹¨ê³„ë¡œ ì´ë£¨ì–´ì§€ëŠ”ë°, ìš°ì„ , ì „ì—­ ë°ì½”ë ˆì´í„°ë“¤ì„ ëª¨ë‘ ë“±ë¡í•´ì•¼í•©ë‹ˆë‹¤. ìš°ë¦¬ì˜ ê²½ìš° ë‘ ê°œì˜ ë°ì½”ë ˆì´í„°ê°€ ìˆìŠµë‹ˆë‹¤ - Chakra UI í…Œë§ˆë¥¼ ì œê³µí•˜ëŠ” ë°ì½”ë ˆì´í„°ì™€ MSW ì• ë“œì˜¨ì„ ìœ„í•œ ë°ì½”ë ˆì´í„°ì…ë‹ˆë‹¤. ë‘ ë°ì½”ë ˆì´í„° ëª¨ë‘ [`.storybook/preview`](https://github.com/chromaui/ui-testing-guide-code/blob/interaction-testing/.storybook/preview.js) íŒŒì¼ì„ í†µí•´ êµ¬ì„±ë©ë‹ˆë‹¤.

ì œìŠ¤íŠ¸ëŠ” í”„ë¡œì íŠ¸ê°€ ë¶€íŠ¸ìŠ¤íŠ¸ë©ë  ë•Œ CRAì— ì˜í•´ ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ê¸€ë¡œë²Œ ì„¤ì • íŒŒì¼ `setupTest.js`ë¥¼ ì œê³µí•©ë‹ˆë‹¤. í•´ë‹¹ íŒŒì¼ì„ ì—…ë°ì´íŠ¸í•´ì„œ ìŠ¤í† ë¦¬ë¶ì˜ ê¸€ë¡œë²Œ ì„¤ì •ì„ ë“±ë¡í•©ë‹ˆë‹¤.

```javascript:title=setupTests.js
import '@testing-library/jest-dom';

import { setGlobalConfig } from '@storybook/testing-react';
import * as globalStorybookConfig from '../.storybook/preview';

setGlobalConfig(globalStorybookConfig);
```

ì´ì–´ì„œ, `@storybook/testing-react`ì—ì„œ `composeStories` ìœ í‹¸ë¦¬í‹°ë¥¼ ì‚¬ìš©í•˜ë„ë¡ í…ŒìŠ¤íŠ¸ë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. ì´ í…ŒìŠ¤íŠ¸ëŠ” ëª¨ë“  ë°ì½”ë ˆì´í„°ê°€ ì ìš©ëœ ìŠ¤í† ë¦¬ë“¤ì„ 1:1 mapìœ¼ë¡œ ì¹˜í™˜í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ì§œì”, ìš°ë¦¬ì˜ í…ŒìŠ¤íŠ¸ëŠ” í†µê³¼í–ˆìŠµë‹ˆë‹¤!

```javascript:title=src/InboxScreen.test.js
import React from 'react';
import '@testing-library/jest-dom/extend-expect';
import {
  render,
  waitFor,
  cleanup,
  within,
  fireEvent,
} from '@testing-library/react';
import { composeStories } from '@storybook/testing-react';
import { getWorker } from 'msw-storybook-addon';
import * as stories from './InboxScreen.stories';

describe('InboxScreen', () => {
  afterEach(() => {
    cleanup();
  });

  // ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ ì™„ë£Œëœ í›„ì— ì •ë¦¬í•´ì„œ(clean up)  
  // ì´ ë ˆì´ì–´ê°€ ë‹¤ë¥¸ ê´€ë ¨ì´ ì—†ëŠ” í…ŒìŠ¤íŠ¸ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤. 
  afterAll(() => getWorker().close());

  const { Default } = composeStories(stories);

  it('should pin a task', async () => {
    const { queryByText, getByRole } = render(<Default />);

    await waitFor(() => {
      expect(queryByText('You have no tasks')).not.toBeInTheDocument();
    });

    const getTask = () => getByRole('listitem', { name: 'Export logo' });

    const pinButton = within(getTask()).getByRole('button', { name: 'pin' });

    fireEvent.click(pinButton);

    const unpinButton = within(getTask()).getByRole('button', {
      name: 'unpin',
    });

    expect(unpinButton).toBeInTheDocument();
  });
});
```
ìš°ë¦¬ëŠ” Testing Libraryì„ ì´ìš©í•´ ìŠ¤í† ë¦¬ë¥¼ ì˜¬ë¦¬ê³  ë Œë”ë§í•œ í›„ì—, ì‹œë®¬ë ˆì´ì…˜ëœ ì‚¬ìš©ìì˜ ë™ì‘ì„ ì ìš©í•˜ê³  í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœê°€ ì •í™•íˆ ì—…ë°ì´íŠ¸ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì„±ê³µì ìœ¼ë¡œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

![](/ui-testing-handbook/yarn-test-pass.png)

ê°™ì€ íŒ¨í„´ì„ ì ìš©í•´ì„œ ì•„ì¹´ì´ë¸Œ ë° í¸ì§‘ ì‹œë‚˜ë¦¬ì˜¤ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
it('should archive a task', async () => {
  const { queryByText, getByRole } = render(<Default />);

  await waitFor(() => {
    expect(queryByText('You have no tasks')).not.toBeInTheDocument();
  });

  const task = getByRole('listitem', { name: 'QA dropdown' });
  const archiveCheckbox = within(task).getByRole('checkbox');
  expect(archiveCheckbox.checked).toBe(false);

  fireEvent.click(archiveCheckbox);
  expect(archiveCheckbox.checked).toBe(true);
});

it('should edit a task', async () => {
  const { queryByText, getByRole } = render(<Default />);

  await waitFor(() => {
    expect(queryByText('You have no tasks')).not.toBeInTheDocument();
  });

  const task = getByRole('listitem', {
    name: 'Fix bug in input error state',
  });
  const taskInput = within(task).getByRole('textbox');

  const updatedTaskName = 'Fix bug in the textarea error state';

  fireEvent.change(taskInput, {
    target: { value: 'Fix bug in the textarea error state' },
  });
  expect(taskInput.value).toBe(updatedTaskName);
});
```
ì •ë¦¬í•˜ë©´, ì„¤ì • ì½”ë“œëŠ” ìŠ¤í† ë¦¬ íŒŒì¼ ì•ˆì— ì¡´ì¬í•˜ê³ , ì•¡ì…˜ê³¼ ëª…ë ¹ë“¤ì€ í…ŒìŠ¤íŠ¸ íŒŒì¼ ì•ˆì— ì¡´ì¬í•©ë‹ˆë‹¤. ì½”ë“œë“¤ì€ Testing Libraryì„ ì‚¬ìš©í•´ ì‚¬ìš©ìì˜ ë°©ì‹ìœ¼ë¡œ UIì™€ ìƒí˜¸ì‘ìš©í•©ë‹ˆë‹¤. í–¥í›„ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„ì´ ë³€ê²½ë˜ë©´, ê²°ê³¼ë¬¼ì´ë‚˜ ë™ì‘ì´ ìˆ˜ì •ë  ë•Œì—ë§Œ í…ŒìŠ¤íŠ¸ê°€ ì¤‘ë‹¨ë  ê²ƒì…ë‹ˆë‹¤.

![](/ui-testing-handbook/yarn-test-all.png)

## ì‚¬ìš©ì„± ë¬¸ì œ íŒŒì•…í•˜ê¸°

ëª¨ë“  ì‚¬ìš©ìê°€ ìš°ë¦¬ì˜ UIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ë©´, ë¹„ì¦ˆë‹ˆìŠ¤ ì¬ë¬´ì— ì˜í–¥ì„ ë¯¸ì¹˜ê³  [ë²•ì  ìš”êµ¬ì‚¬í•­](https://www.w3.org/WAI/policies/?q=government)ì„ ì¶©ì¡±ì‹œí‚¤ê²Œ ë©ë‹ˆë‹¤. ì´ê²ƒì€ ìœˆ-ìœˆ ê´€ê³„ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì¥ì—ì„œëŠ” ìŠ¤í† ë¦¬ì˜ ì´ë™ì„±ì„ í™œìš©í•´ ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸ë¥¼ ê°„ì†Œí™”í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ê² ìŠµë‹ˆë‹¤.
